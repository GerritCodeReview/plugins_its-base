{
  "comments": [
    {
      "key": {
        "uuid": "757baa5f_7edcfe2e",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/its/base/workflow/ActionExecutor.java",
        "patchSetId": 19
      },
      "lineNbr": 78,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-05-30T10:51:42Z",
      "side": 1,
      "message": "Would it make sense to define property constants?",
      "range": {
        "startLine": 78,
        "startChar": 29,
        "endLine": 78,
        "endChar": 36
      },
      "revId": "eaab7ae9c3f9c685784b0244c7334aec9b353221",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "910a6fa8_331e9e29",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/its/base/workflow/ActionExecutor.java",
        "patchSetId": 19
      },
      "lineNbr": 78,
      "author": {
        "id": 1019328
      },
      "writtenOn": "2018-05-30T12:15:52Z",
      "side": 1,
      "message": "Probably yes, but most of the properties are passed as is to the classes charged with writing the comments to the ITS issue so that they can be used in that context. Apart from that, there are three other properties that are scarcely used in the code: \"issue\" to get the number of the ITS issue(s), \"project\" to get project specific information (in a follow-up commit) and \"association\". \n\nI\u0027m not closed to the idea of defining them as constants but the main issue I see is that besides the tests, I don\u0027t expect these constants to be widely used. The other aspect is that we\u0027d need to define these constants in, at least, two places: PropertyExtractor.java and PropertyAttributeExtractor.java that are the classes where the event properties are extracted and added to the map. This will, certainly, reduce the repetition in tests, but there are some maintainers that do not like the idea of using constants defined in the class under test in the tests themselves as they point out this will mask mistakes on the test side.\n\nIf we decided to go with defining constants, this will need to be done in a different change as the scope can be wider.",
      "parentUuid": "757baa5f_7edcfe2e",
      "range": {
        "startLine": 78,
        "startChar": 29,
        "endLine": 78,
        "endChar": 36
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "eaab7ae9c3f9c685784b0244c7334aec9b353221",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "98fe3e02_e521cd29",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/its/base/workflow/ActionExecutor.java",
        "patchSetId": 19
      },
      "lineNbr": 78,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-05-30T12:28:34Z",
      "side": 1,
      "message": "I meant one songle place for ITS constants or even enum with most usable values like issue, project etc. Then this values could be used across production and test code.",
      "parentUuid": "910a6fa8_331e9e29",
      "range": {
        "startLine": 78,
        "startChar": 29,
        "endLine": 78,
        "endChar": 36
      },
      "revId": "eaab7ae9c3f9c685784b0244c7334aec9b353221",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a99c6121_71083b39",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/its/base/workflow/ActionExecutor.java",
        "patchSetId": 19
      },
      "lineNbr": 78,
      "author": {
        "id": 1019328
      },
      "writtenOn": "2018-06-05T09:04:10Z",
      "side": 1,
      "message": "Yes, definitively. I\u0027ll propose a change as soon as this series is in.\nThanks for the suggestion.",
      "parentUuid": "98fe3e02_e521cd29",
      "range": {
        "startLine": 78,
        "startChar": 29,
        "endLine": 78,
        "endChar": 36
      },
      "revId": "eaab7ae9c3f9c685784b0244c7334aec9b353221",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a922b899_1b939e01",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/its/base/workflow/Condition.java",
        "patchSetId": 19
      },
      "lineNbr": 92,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-05-30T10:51:42Z",
      "side": 1,
      "message": "May be propertyArray or propertyValue?",
      "range": {
        "startLine": 92,
        "startChar": 13,
        "endLine": 92,
        "endChar": 18
      },
      "revId": "eaab7ae9c3f9c685784b0244c7334aec9b353221",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c7b510f7_7c529667",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/its/base/workflow/Condition.java",
        "patchSetId": 19
      },
      "lineNbr": 92,
      "author": {
        "id": 1019328
      },
      "writtenOn": "2018-05-30T12:15:52Z",
      "side": 1,
      "message": "Sure, clearer. Done.",
      "parentUuid": "a922b899_1b939e01",
      "range": {
        "startLine": 92,
        "startChar": 13,
        "endLine": 92,
        "endChar": 18
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "eaab7ae9c3f9c685784b0244c7334aec9b353221",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "411de3e5_2d29a909",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/its/base/workflow/LogEvent.java",
        "patchSetId": 19
      },
      "lineNbr": 58,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-05-30T10:51:42Z",
      "side": 1,
      "message": "David is working on improving message formating using native logger feature:\n\n  log.debug(\"this is a log format {}\", foo);\n\nMay be address this here as well (not in this change). Something like:\n\n  private final static String MESSAGE \u003d \"[{} \u003d {}]\";\n  private void logProperty(Level level, Entry\u003cString, String\u003e property) {\n     switch (level) {\n     case ERROR:\n       log.error(MESSAGE, property.getKey(), property.getValue());\n       break;\n     [....]\n\nThe point is: we shouldn\u0027t render the message in advance, before we cannot know, whether or not Logger is going to log it with current configuration level.",
      "range": {
        "startLine": 58,
        "startChar": 21,
        "endLine": 58,
        "endChar": 86
      },
      "revId": "eaab7ae9c3f9c685784b0244c7334aec9b353221",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "14d00c88_c93b61dd",
        "filename": "src/main/java/com/googlesource/gerrit/plugins/its/base/workflow/LogEvent.java",
        "patchSetId": 19
      },
      "lineNbr": 58,
      "author": {
        "id": 1019328
      },
      "writtenOn": "2018-05-30T12:15:52Z",
      "side": 1,
      "message": "Nice idea. Next on my TODO list.",
      "parentUuid": "411de3e5_2d29a909",
      "range": {
        "startLine": 58,
        "startChar": 21,
        "endLine": 58,
        "endChar": 86
      },
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "eaab7ae9c3f9c685784b0244c7334aec9b353221",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee7fb086_3ec2579f",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/its/base/util/PropertyAttributeExtractorTest.java",
        "patchSetId": 19
      },
      "lineNbr": 146,
      "author": {
        "id": 1011323
      },
      "writtenOn": "2018-05-30T10:51:42Z",
      "side": 1,
      "message": "Should we define constants here too?",
      "revId": "eaab7ae9c3f9c685784b0244c7334aec9b353221",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "542f2a0a_c67230ec",
        "filename": "src/test/java/com/googlesource/gerrit/plugins/its/base/util/PropertyAttributeExtractorTest.java",
        "patchSetId": 19
      },
      "lineNbr": 146,
      "author": {
        "id": 1019328
      },
      "writtenOn": "2018-05-30T12:15:52Z",
      "side": 1,
      "message": "I think so, but as I explained in the first comment (ActionExecutor, line 78), this will need, probably, to be done in a separate change giving the wider scope of defining constants in this context.",
      "parentUuid": "ee7fb086_3ec2579f",
      "tag": "autogenerated:gerrit:newPatchSet",
      "revId": "eaab7ae9c3f9c685784b0244c7334aec9b353221",
      "serverId": "173816e5-2b9a-37c3-8a2e-48639d4f1153",
      "unresolved": false
    }
  ]
}